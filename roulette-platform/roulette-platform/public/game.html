<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Roulette - Spielen</title>
    <link rel="stylesheet" href="/src/css/main.css">
    <link rel="stylesheet" href="/src/css/game.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="game-container">
        <!-- Header -->
        <header class="game-header">
            <div class="header-left">
                <button class="btn-back" onclick="window.location.href='/dashboard.html'">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div class="game-title">
                    <h1><i class="fas fa-dice"></i> Premium Roulette</h1>
                    <div class="game-mode" id="game-mode">Solo-Spiel</div>
                </div>
            </div>
            
            <div class="header-right">
                <div class="player-stats">
                    <div class="chip-balance">
                        <i class="fas fa-coins"></i>
                        <span id="game-chips">10.000</span> Chips
                    </div>
                    <div class="player-info-mini">
                        <img id="game-avatar" src="" alt="Avatar" class="avatar-small">
                        <span id="game-username">Spieler</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Game Area -->
        <main class="game-main">
            <!-- Roulette Wheel -->
            <section class="wheel-section">
                <div class="wheel-container">
                    <div class="roulette-wheel" id="roulette-wheel">
                        <div class="wheel-inner" id="wheel-inner"></div>
                        <div class="wheel-center">
                            <span>0</span>
                        </div>
                        <div class="roulette-ball" id="roulette-ball"></div>
                    </div>
                    
                    <div class="wheel-controls">
                        <button class="btn-spin" id="spin-btn">
                            <i class="fas fa-play"></i>
                            Drehen
                        </button>
                        <button class="btn-clear" id="clear-btn">
                            <i class="fas fa-trash"></i>
                            Clear
                        </button>
                        <button class="btn-double" id="double-btn">
                            <i class="fas fa-redo"></i>
                            Verdoppeln
                        </button>
                    </div>
                    
                    <div class="last-results">
                        <h3><i class="fas fa-history"></i> Letzte Ergebnisse</h3>
                        <div class="results-list" id="last-results"></div>
                    </div>
                </div>
            </section>

            <!-- Betting Table -->
            <section class="betting-section">
                <div class="betting-table" id="betting-table">
                    <!-- Generated by JavaScript -->
                </div>
                
                <div class="outside-bets" id="outside-bets">
                    <!-- Generated by JavaScript -->
                </div>
            </section>

            <!-- Bet Controls -->
            <section class="controls-section">
                <div class="chip-selector">
                    <h3><i class="fas fa-coins"></i> Chip-Auswahl</h3>
                    <div class="chips-grid" id="chip-selector"></div>
                </div>
                
                <div class="bet-info">
                    <div class="current-bet">
                        <span>Aktueller Chip:</span>
                        <strong id="current-chip">50</strong>
                    </div>
                    <div class="total-bet">
                        <span>Gesamteinsatz:</span>
                        <strong id="total-bet">0</strong>
                    </div>
                    <div class="potential-win">
                        <span>Möglicher Gewinn:</span>
                        <strong id="potential-win">0</strong>
                    </div>
                </div>
                
                <div class="quick-bets">
                    <h3><i class="fas fa-bolt"></i> Schnell-Setze</h3>
                    <div class="quick-buttons">
                        <button class="quick-btn" data-bet="50">50</button>
                        <button class="quick-btn" data-bet="100">100</button>
                        <button class="quick-btn" data-bet="500">500</button>
                        <button class="quick-btn" data-bet="1000">1K</button>
                        <button class="quick-btn" data-bet="5000">5K</button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Sidebar -->
        <aside class="game-sidebar">
            <!-- Player List -->
            <section class="players-section">
                <h3><i class="fas fa-users"></i> Spieler am Tisch</h3>
                <div class="players-list" id="players-list">
                    <div class="loading">Lade Spieler...</div>
                </div>
            </section>

            <!-- Game History -->
            <section class="history-section">
                <h3><i class="fas fa-chart-bar"></i> Spiel-Statistik</h3>
                <div class="stats-grid">
                    <div class="stat">
                        <span class="stat-label">Gesetzte Chips</span>
                        <span class="stat-value" id="stat-total-bet">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Gewonnene Chips</span>
                        <span class="stat-value" id="stat-total-win">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Spiele gespielt</span>
                        <span class="stat-value" id="stat-games-played">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Gewinnrate</span>
                        <span class="stat-value" id="stat-win-rate">0%</span>
                    </div>
                </div>
            </section>

            <!-- Chat -->
            <section class="chat-section">
                <h3><i class="fas fa-comments"></i> Chat</h3>
                <div class="chat-messages" id="chat-messages">
                    <div class="message system">
                        <span>Willkommen am Roulette-Tisch!</span>
                    </div>
                </div>
                <div class="chat-input">
                    <input type="text" id="chat-input" placeholder="Nachricht schreiben..." maxlength="200">
                    <button id="chat-send">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </section>

            <!-- Hot Numbers -->
            <section class="hot-numbers-section">
                <h3><i class="fas fa-fire"></i> Heiße Zahlen</h3>
                <div class="hot-numbers" id="hot-numbers">
                    <div class="loading">Berechne...</div>
                </div>
            </section>
        </aside>

        <!-- Game Status Bar -->
        <footer class="game-footer">
            <div class="status-info">
                <div class="status-indicator" id="game-status">
                    <i class="fas fa-check-circle"></i>
                    <span>Bereit zum Setzen</span>
                </div>
                <div class="timer" id="betting-timer">
                    <i class="fas fa-clock"></i>
                    <span>Unbegrenzt</span>
                </div>
            </div>
            <div class="game-actions">
                <button class="btn-help" id="help-btn">
                    <i class="fas fa-question-circle"></i>
                    Hilfe
                </button>
                <button class="btn-sound" id="sound-btn">
                    <i class="fas fa-volume-up"></i>
                    Sound
                </button>
                <button class="btn-fullscreen" id="fullscreen-btn">
                    <i class="fas fa-expand"></i>
                    Vollbild
                </button>
            </div>
        </footer>
    </div>

    <!-- Result Modal -->
    <div class="modal" id="result-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Spielergebnis</h2>
                <button class="btn-close" id="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="result-number" id="result-number">0</div>
                <div class="result-color" id="result-color">Grün</div>
                <div class="result-message" id="result-message"></div>
                <div class="result-details">
                    <div class="result-item">
                        <span>Dein Einsatz:</span>
                        <strong id="result-bet">0</strong>
                    </div>
                    <div class="result-item">
                        <span>Dein Gewinn:</span>
                        <strong id="result-win">0</strong>
                    </div>
                    <div class="result-item">
                        <span>Neuer Kontostand:</span>
                        <strong id="result-balance">0</strong>
                    </div>
                </div>
                <button class="btn-primary" id="continue-btn">Weiter spielen</button>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal" id="help-modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2><i class="fas fa-question-circle"></i> Spielhilfe</h2>
                <button class="btn-close" id="close-help">&times;</button>
            </div>
            <div class="modal-body">
                <div class="help-tabs">
                    <button class="help-tab active" data-tab="basics">Grundlagen</button>
                    <button class="help-tab" data-tab="bets">Einsätze</button>
                    <button class="help-tab" data-tab="odds">Gewinnchancen</button>
                    <button class="help-tab" data-tab="strategies">Strategien</button>
                </div>
                
                <div class="help-content">
                    <div class="help-panel active" id="basics-panel">
                        <h3>Roulette Grundlagen</h3>
                        <p>Roulette ist ein Glücksspiel, bei dem eine Kugel in ein sich drehendes Rad mit nummerierten Fächern geworfen wird.</p>
                        
                        <h4>Das europäische Roulette-Rad</h4>
                        <ul>
                            <li>37 Fächer: Zahlen 0 bis 36</li>
                            <li>0 ist grün</li>
                            <li>18 rote und 18 schwarze Zahlen</li>
                            <li>Die Zahlen sind nicht in numerischer Reihenfolge angeordnet</li>
                        </ul>
                    </div>
                    
                    <div class="help-panel" id="bets-panel">
                        <h3>Einsatzarten</h3>
                        
                        <h4>Innere Einsätze (hohe Gewinnchancen)</h4>
                        <ul>
                            <li><strong>Einfache Chance (Straight):</strong> Auf eine einzelne Zahl (35:1)</li>
                            <li><strong>Geteilt (Split):</strong> Auf zwei benachbarte Zahlen (17:1)</li>
                            <li><strong>Straße (Street):</strong> Auf drei Zahlen in einer Reihe (11:1)</li>
                        </ul>
                        
                        <h4>Äußere Einsätze (niedrige Gewinnchancen)</h4>
                        <ul>
                            <li><strong>Rot/Schwarz:</strong> Auf Farbe (1:1)</li>
                            <li><strong>Gerade/Ungerade:</strong> Auf Zahlenart (1:1)</li>
                            <li><strong>1-18/19-36:</strong> Auf Zahlenbereich (1:1)</li>
                            <li><strong>Dutzend:</strong> Auf 12 Zahlen (2:1)</li>
                            <li><strong>Kolonne:</strong> Auf vertikale Linie (2:1)</li>
                        </ul>
                    </div>
                    
                    <div class="help-panel" id="odds-panel">
                        <h3>Gewinnchancen & Auszahlungen</h3>
                        <table class="odds-table">
                            <thead>
                                <tr>
                                    <th>Einsatzart</th>
                                    <th>Gewinnchance</th>
                                    <th>Auszahlung</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Einfache Chance</td>
                                    <td>2.70%</td>
                                    <td>35:1</td>
                                </tr>
                                <tr>
                                    <td>Geteilt</td>
                                    <td>5.41%</td>
                                    <td>17:1</td>
                                </tr>
                                <tr>
                                    <td>Straße</td>
                                    <td>8.11%</td>
                                    <td>11:1</td>
                                </tr>
                                <tr>
                                    <td>Rot/Schwarz</td>
                                    <td>48.65%</td>
                                    <td>1:1</td>
                                </tr>
                                <tr>
                                    <td>Gerade/Ungerade</td>
                                    <td>48.65%</td>
                                    <td>1:1</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="help-panel" id="strategies-panel">
                        <h3>Spielstrategien</h3>
                        
                        <h4>Martingale System</h4>
                        <p>Verdopple deinen Einsatz nach jedem Verlust. Wenn du gewinnst, beginnst du wieder mit dem Anfangseinsatz.</p>
                        
                        <h4>Fibonacci System</h4>
                        <p>Folge der Fibonacci-Folge: 1, 1, 2, 3, 5, 8, 13... Erhöhe nach Verlust, gehe zwei Schritte zurück nach Gewinn.</p>
                        
                        <h4>D'Alembert System</h4>
                        <p>Erhöhe um 1 nach Verlust, verringere um 1 nach Gewinn.</p>
                        
                        <div class="warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            <p><strong>Wichtig:</strong> Keine Strategie kann das Hausvorteil besiegen. Roulette ist ein Glücksspiel. Setze nur Geld, das du dir leisten kannst zu verlieren.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="/src/js/config/firebase.js"></script>
    <script type="module" src="/src/js/core/game-engine.js"></script>
    <script type="module" src="/src/js/modules/roulette.js"></script>
    <script type="module" src="/src/js/modules/betting.js"></script>
    <script type="module" src="/src/js/modules/chat.js"></script>
    <script type="module" src="/src/js/utils/notifications.js"></script>
</body>
</html>